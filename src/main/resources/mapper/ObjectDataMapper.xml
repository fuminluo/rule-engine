<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.github.rule.engine.mapper.ObjectDataMapper">

    <resultMap type="com.github.rule.engine.entity.ObjectData" id="BaseResultMap">
        <result property="id" column="ID" jdbcType="VARCHAR"/>
        <result property="hashCode" column="HASH_CODE" jdbcType="DECIMAL"/>
        <result property="applicationId" column="APPLICATION_ID" jdbcType="VARCHAR"/>
        <result property="batchGroupId" column="batch_group_id" jdbcType="DECIMAL"/>
        <result property="dateTime" column="DATE_TIME" jdbcType="TIMESTAMP"/>
        <result property="status" column="STATUS" jdbcType="VARCHAR"/>
        <result property="columnChar1" column="COLUMN_CHAR1" jdbcType="VARCHAR"/>
        <result property="columnChar2" column="COLUMN_CHAR2" jdbcType="VARCHAR"/>
        <result property="columnChar3" column="COLUMN_CHAR3" jdbcType="VARCHAR"/>
        <result property="columnChar4" column="COLUMN_CHAR4" jdbcType="VARCHAR"/>
        <result property="columnChar5" column="COLUMN_CHAR5" jdbcType="VARCHAR"/>
        <result property="columnChar6" column="COLUMN_CHAR6" jdbcType="VARCHAR"/>
        <result property="columnChar7" column="COLUMN_CHAR7" jdbcType="VARCHAR"/>
        <result property="columnChar8" column="COLUMN_CHAR8" jdbcType="VARCHAR"/>
        <result property="columnChar9" column="COLUMN_CHAR9" jdbcType="VARCHAR"/>
        <result property="columnChar10" column="COLUMN_CHAR10" jdbcType="VARCHAR"/>
        <result property="columnChar11" column="COLUMN_CHAR11" jdbcType="VARCHAR"/>
        <result property="columnChar12" column="COLUMN_CHAR12" jdbcType="VARCHAR"/>
        <result property="columnChar13" column="COLUMN_CHAR13" jdbcType="VARCHAR"/>
        <result property="columnChar14" column="COLUMN_CHAR14" jdbcType="VARCHAR"/>
        <result property="columnChar15" column="COLUMN_CHAR15" jdbcType="VARCHAR"/>
        <result property="columnNumber1" column="COLUMN_NUMBER1" jdbcType="DECIMAL"/>
        <result property="columnNumber2" column="COLUMN_NUMBER2" jdbcType="DECIMAL"/>
        <result property="columnNumber3" column="COLUMN_NUMBER3" jdbcType="DECIMAL"/>
        <result property="columnNumber4" column="COLUMN_NUMBER4" jdbcType="DECIMAL"/>
        <result property="columnNumber5" column="COLUMN_NUMBER5" jdbcType="DECIMAL"/>
        <result property="columnNumber6" column="COLUMN_NUMBER6" jdbcType="DECIMAL"/>
        <result property="columnDate1" column="COLUMN_DATE1" jdbcType="TIMESTAMP"/>
        <result property="columnDate2" column="COLUMN_DATE2" jdbcType="TIMESTAMP"/>
        <result property="columnDate3" column="COLUMN_DATE3" jdbcType="TIMESTAMP"/>
    </resultMap>


    <!--通过实体作为筛选条件查询-->
    <select id="queryAll" resultMap="BaseResultMap">
        select
        ID, COLUMN_CHAR1, COLUMN_CHAR2, COLUMN_CHAR3, COLUMN_CHAR4, COLUMN_CHAR5, COLUMN_CHAR6, COLUMN_CHAR7,
        COLUMN_CHAR8, COLUMN_CHAR9, COLUMN_CHAR10, COLUMN_CHAR11, COLUMN_CHAR12, COLUMN_CHAR13, COLUMN_CHAR14,
        COLUMN_CHAR15, COLUMN_NUMBER1, COLUMN_NUMBER2, COLUMN_NUMBER3, COLUMN_NUMBER4, COLUMN_NUMBER5, COLUMN_NUMBER6,
        COLUMN_DATE1, COLUMN_DATE2, COLUMN_DATE3, COLUMN_DATE4, HASH_CODE, APPLICATION_ID,DATE_TIME,STATUS
        from T_OBJECT_DATA
        <where>
            <if test="id != null">
                and ID = #{id}
            </if>
            <if test="columnChar1 != null">
                and COLUMN_CHAR1 = #{columnChar1}
            </if>
            <if test="columnChar2 != null">
                and COLUMN_CHAR2 = #{columnChar2}
            </if>
            <if test="columnChar3 != null">
                and COLUMN_CHAR3 = #{columnChar3}
            </if>
            <if test="columnChar4 != null">
                and COLUMN_CHAR4 = #{columnChar4}
            </if>
            <if test="columnChar5 != null">
                and COLUMN_CHAR5 = #{columnChar5}
            </if>
            <if test="columnChar6 != null">
                and COLUMN_CHAR6 = #{columnChar6}
            </if>
            <if test="columnChar7 != null">
                and COLUMN_CHAR7 = #{columnChar7}
            </if>
            <if test="columnChar8 != null">
                and COLUMN_CHAR8 = #{columnChar8}
            </if>
            <if test="columnChar9 != null">
                and COLUMN_CHAR9 = #{columnChar9}
            </if>
            <if test="columnChar10 != null">
                and COLUMN_CHAR10 = #{columnChar10}
            </if>
            <if test="columnChar11 != null">
                and COLUMN_CHAR11 = #{columnChar11}
            </if>
            <if test="columnChar12 != null">
                and COLUMN_CHAR12 = #{columnChar12}
            </if>
            <if test="columnChar13 != null">
                and COLUMN_CHAR13 = #{columnChar13}
            </if>
            <if test="columnChar14 != null">
                and COLUMN_CHAR14 = #{columnChar14}
            </if>
            <if test="columnChar15 != null">
                and COLUMN_CHAR15 = #{columnChar15}
            </if>
            <if test="columnNumber1 != null">
                and COLUMN_NUMBER1 = #{columnNumber1}
            </if>
            <if test="columnNumber2 != null">
                and COLUMN_NUMBER2 = #{columnNumber2}
            </if>
            <if test="columnNumber3 != null">
                and COLUMN_NUMBER3 = #{columnNumber3}
            </if>
            <if test="columnNumber4 != null">
                and COLUMN_NUMBER4 = #{columnNumber4}
            </if>
            <if test="columnNumber5 != null">
                and COLUMN_NUMBER5 = #{columnNumber5}
            </if>
            <if test="columnNumber6 != null">
                and COLUMN_NUMBER6 = #{columnNumber6}
            </if>
            <if test="columnDate1 != null">
                and COLUMN_DATE1 = #{columnDate1}
            </if>
            <if test="columnDate2 != null">
                and COLUMN_DATE2 = #{columnDate2}
            </if>
            <if test="columnDate3 != null">
                and COLUMN_DATE3 = #{columnDate3}
            </if>
            <if test="columnDate4 != null">
                and COLUMN_DATE4 = #{columnDate4}
            </if>
            <if test="hashCode != null">
                and HASH_CODE = #{hashCode}
            </if>
            <if test="applicationId != null">
                and APPLICATION_ID = #{applicationId}
            </if>
            <if test="applicationId != null">
                and DATE_TIME = #{dateTime}
            </if>
        </where>
    </select>

    <select id="findOne" resultMap="BaseResultMap"
            parameterType="com.github.rule.engine.dto.ObjectDataDTO">
        with temp as (select
        ora_hash(t.application_id || t.column_char1 || t.column_char2 || t.column_char3 ||
        t.column_char4 || t.column_char5 || t.column_char6 ||
        t.column_char7 || t.column_char8 || t.column_char9 ||
        t.column_char10 || t.column_char11 || t.column_char12 ||
        t.column_char13 || t.column_char14 || t.column_char15
        || t.column_number1 || t.column_number2 || t.column_number3
        || t.column_number4 || t.column_number5 || t.column_number6) as hashcode from
        (select #{applicationId,jdbcType=NVARCHAR} APPLICATION_ID, #{columnChar1,jdbcType=NVARCHAR} COLUMN_CHAR1,
        #{columnChar2,jdbcType=NVARCHAR} COLUMN_CHAR2,#{columnChar3,jdbcType=NVARCHAR}
        COLUMN_CHAR3,#{columnChar4,jdbcType=NVARCHAR} COLUMN_CHAR4,
        #{columnChar5,jdbcType=NVARCHAR} COLUMN_CHAR5,#{columnChar6,jdbcType=NVARCHAR}
        COLUMN_CHAR6,#{columnChar7,jdbcType=NVARCHAR} COLUMN_CHAR7,
        #{columnChar8,jdbcType=NVARCHAR} COLUMN_CHAR8,#{columnChar9,jdbcType=NVARCHAR}
        COLUMN_CHAR9,#{columnChar10,jdbcType=NVARCHAR} COLUMN_CHAR10,
        #{columnChar11,jdbcType=NVARCHAR} COLUMN_CHAR11,#{columnChar12,jdbcType=NVARCHAR}
        COLUMN_CHAR12,#{columnChar13,jdbcType=NVARCHAR} COLUMN_CHAR13,
        #{columnChar14,jdbcType=NVARCHAR} COLUMN_CHAR14,#{columnChar15,jdbcType=NVARCHAR} COLUMN_CHAR15COLUMN_CHAR15,
        #{columnNumber1,jdbcType=DOUBLE} column_number1,#{columnNumber2,jdbcType=DOUBLE}
        column_number2,#{columnNumber3,jdbcType=DOUBLE} column_number3,
        #{columnNumber4,jdbcType=DOUBLE} column_number4,#{columnNumber5,jdbcType=DOUBLE}
        column_number5,#{columnNumber6,jdbcType=DOUBLE} column_number6
        from dual) t )
        select
        ID, COLUMN_CHAR1, COLUMN_CHAR2, COLUMN_CHAR3, COLUMN_CHAR4, COLUMN_CHAR5, COLUMN_CHAR6, COLUMN_CHAR7,
        COLUMN_CHAR8, COLUMN_CHAR9, COLUMN_CHAR10, COLUMN_CHAR11, COLUMN_CHAR12, COLUMN_CHAR13, COLUMN_CHAR14,
        COLUMN_CHAR15, COLUMN_NUMBER1, COLUMN_NUMBER2, COLUMN_NUMBER3, COLUMN_NUMBER4, COLUMN_NUMBER5, COLUMN_NUMBER6,
        COLUMN_DATE1, COLUMN_DATE2, COLUMN_DATE3, COLUMN_DATE4, HASH_CODE, APPLICATION_ID
        from ROOT.T_OBJECT_DATA
        where
        HASH_CODE = (select temp.hashcode from temp)
        <if test="applicationId != null">
            and APPLICATION_ID = #{applicationId}
        </if>
        <if test="columnChar1 != null">
            and COLUMN_CHAR1 = #{columnChar1}
        </if>
        <if test="columnChar2 != null">
            and COLUMN_CHAR2 = #{columnChar2}
        </if>
        <if test="columnChar3 != null">
            and COLUMN_CHAR3 = #{columnChar3}
        </if>
        <if test="columnChar4 != null">
            and COLUMN_CHAR4 = #{columnChar4}
        </if>
        <if test="columnChar5 != null">
            and COLUMN_CHAR5 = #{columnChar5}
        </if>
        <if test="columnChar6 != null">
            and COLUMN_CHAR6 = #{columnChar6}
        </if>
        <if test="columnChar7 != null">
            and COLUMN_CHAR7 = #{columnChar7}
        </if>
        <if test="columnChar8 != null">
            and COLUMN_CHAR8 = #{columnChar8}
        </if>
        <if test="columnChar9 != null">
            and COLUMN_CHAR9 = #{columnChar9}
        </if>
        <if test="columnChar10 != null">
            and COLUMN_CHAR10 = #{columnChar10}
        </if>
        <if test="columnChar11 != null">
            and COLUMN_CHAR11 = #{columnChar11}
        </if>
        <if test="columnChar12 != null">
            and COLUMN_CHAR12 = #{columnChar12}
        </if>
        <if test="columnChar13 != null">
            and COLUMN_CHAR13 = #{columnChar13}
        </if>
        <if test="columnChar14 != null">
            and COLUMN_CHAR14 = #{columnChar14}
        </if>
        <if test="columnChar15 != null">
            and COLUMN_CHAR15 = #{columnChar15}
        </if>
        <if test="columnNumber1 != null">
            and COLUMN_NUMBER1 = #{columnNumber1}
        </if>
        <if test="columnNumber2 != null">
            and COLUMN_NUMBER2 = #{columnNumber2}
        </if>
        <if test="columnNumber3 != null">
            and COLUMN_NUMBER3 = #{columnNumber3}
        </if>
        <if test="columnNumber4 != null">
            and COLUMN_NUMBER4 = #{columnNumber4}
        </if>
        <if test="columnNumber5 != null">
            and COLUMN_NUMBER5 = #{columnNumber5}
        </if>
        <if test="columnNumber6 != null">
            and COLUMN_NUMBER6 = #{columnNumber6}
        </if>
        <if test="columnDate1 != null">
            and COLUMN_DATE1 = #{columnDate1}
        </if>
        <if test="columnDate2 != null">
            and COLUMN_DATE2 = #{columnDate2}
        </if>
        <if test="columnDate3 != null">
            and COLUMN_DATE3 = #{columnDate3}
        </if>
        <if test="columnDate4 != null">
            and COLUMN_DATE4 = #{columnDate4}
        </if>
    </select>

    <select id="queryCustom" resultMap="BaseResultMap">
        select * from t_object_data
        where hash_code = #{hashCode} and application_id = #{applicationId}
        <if test="sqlPart != null">
            ${sqlPart}
        </if>
        and rownum = 1
    </select>

    <select id="queryHashCode" parameterType="com.github.rule.engine.dto.ObjectDataDTO" resultType="java.lang.Long">
        select
            ora_hash(t.application_id || t.column_char1 || t.column_char2 || t.column_char3 ||
            t.column_char4 || t.column_char5 || t.column_char6 ||
            t.column_char7 || t.column_char8 || t.column_char9 ||
            t.column_char10 || t.column_char11 || t.column_char12 ||
            t.column_char13 || t.column_char14 || t.column_char15
            || t.column_number1 || t.column_number2 || t.column_number3
            || t.column_number4 || t.column_number5 || t.column_number6) as hashcode from
            (select #{applicationId,jdbcType=NVARCHAR} APPLICATION_ID, #{columnChar1,jdbcType=NVARCHAR} COLUMN_CHAR1,
            #{columnChar2,jdbcType=NVARCHAR} COLUMN_CHAR2,#{columnChar3,jdbcType=NVARCHAR}
            COLUMN_CHAR3,#{columnChar4,jdbcType=NVARCHAR} COLUMN_CHAR4,
            #{columnChar5,jdbcType=NVARCHAR} COLUMN_CHAR5,#{columnChar6,jdbcType=NVARCHAR}
            COLUMN_CHAR6,#{columnChar7,jdbcType=NVARCHAR} COLUMN_CHAR7,
            #{columnChar8,jdbcType=NVARCHAR} COLUMN_CHAR8,#{columnChar9,jdbcType=NVARCHAR}
            COLUMN_CHAR9,#{columnChar10,jdbcType=NVARCHAR} COLUMN_CHAR10,
            #{columnChar11,jdbcType=NVARCHAR} COLUMN_CHAR11,#{columnChar12,jdbcType=NVARCHAR}
            COLUMN_CHAR12,#{columnChar13,jdbcType=NVARCHAR} COLUMN_CHAR13,
            #{columnChar14,jdbcType=NVARCHAR} COLUMN_CHAR14,#{columnChar15,jdbcType=NVARCHAR} COLUMN_CHAR15,
            #{columnNumber1,jdbcType=DOUBLE} column_number1,#{columnNumber2,jdbcType=DOUBLE}
            column_number2,#{columnNumber3,jdbcType=DOUBLE} column_number3,
            #{columnNumber4,jdbcType=DOUBLE} column_number4,#{columnNumber5,jdbcType=DOUBLE}
            column_number5,#{columnNumber6,jdbcType=DOUBLE} column_number6
        from dual) t
    </select>


    <insert id="insertColumnBatch" parameterType="com.github.rule.engine.dto.InsertBatchObjectRequest">
        INSERT ALL
        <if test='dataList.columnChar1 != null and dataList.columnChar1.size()>0'>
            <foreach collection="dataList.columnChar1" item="item" index="index">
                INTO t_column_char1 (column_char1)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnChar2 != null and dataList.columnChar2.size()>0'>
            <foreach collection="dataList.columnChar2" item="item" index="index">
                INTO t_column_char2 (column_char2)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnChar3 != null and dataList.columnChar3.size()>0'>
            <foreach collection="dataList.columnChar3" item="item" index="index">
                INTO t_column_char3 (column_char3)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnChar4 != null and dataList.columnChar4.size()>0'>
            <foreach collection="dataList.columnChar4" item="item" index="index">
                INTO t_column_char4 (column_char4)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnChar5 != null and dataList.columnChar5.size()>0'>
            <foreach collection="dataList.columnChar5" item="item" index="index">
                INTO t_column_char5 (column_char5)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnChar6 != null and dataList.columnChar6.size()>0'>
            <foreach collection="dataList.columnChar6" item="item" index="index">
                INTO t_column_char6 (column_char6)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnChar7 != null and dataList.columnChar7.size()>0'>
            <foreach collection="dataList.columnChar7" item="item" index="index">
                INTO t_column_char7 (column_char7)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnChar8 != null and dataList.columnChar8.size()>0'>
            <foreach collection="dataList.columnChar8" item="item" index="index">
                INTO t_column_char8 (column_char8)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnChar9 != null and dataList.columnChar9.size()>0'>
            <foreach collection="dataList.columnChar9" item="item" index="index">
                INTO t_column_char9 (column_char9)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnChar10 != null and dataList.columnChar10.size()>0'>
            <foreach collection="dataList.columnChar10" item="item" index="index">
                INTO t_column_char10 (column_char10)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnChar11 != null and dataList.columnChar11.size()>0'>
            <foreach collection="dataList.columnChar11" item="item" index="index">
                INTO t_column_char11 (column_char11)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnChar12 != null and dataList.columnChar12.size()>0'>
            <foreach collection="dataList.columnChar12" item="item" index="index">
                INTO t_column_char12 (column_char12)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnChar13 != null and dataList.columnChar13.size()>0'>
            <foreach collection="dataList.columnChar13" item="item" index="index">
                INTO t_column_char13 (column_char13)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnChar14 != null and dataList.columnChar14.size()>0'>
            <foreach collection="dataList.columnChar14" item="item" index="index">
                INTO t_column_char14 (column_char14)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnChar15 != null and dataList.columnChar15.size()>0'>
            <foreach collection="dataList.columnChar15" item="item" index="index">
                INTO t_column_char15 (column_char15)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnNumber1 != null and dataList.columnNumber1.size()>0'>
            <foreach collection="dataList.columnNumber1" item="item" index="index">
                INTO t_column_number1 (column_number1)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnNumber2 != null and dataList.columnNumber2.size()>0'>
            <foreach collection="dataList.columnNumber2" item="item" index="index">
                INTO t_column_number2 (column_number2)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnNumber3 != null and dataList.columnNumber3.size()>0'>
            <foreach collection="dataList.columnNumber3" item="item" index="index">
                INTO t_column_number3 (column_number3)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnNumber4 != null and dataList.columnNumber4.size()>0'>
            <foreach collection="dataList.columnNumber4" item="item" index="index">
                INTO t_column_number4 (column_number4)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnNumber5 != null and dataList.columnNumber5.size()>0'>
            <foreach collection="dataList.columnNumber5" item="item" index="index">
                INTO t_column_number5 (column_number5)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnNumber6 != null and dataList.columnNumber6.size()>0'>
            <foreach collection="dataList.columnNumber6" item="item" index="index">
                INTO t_column_number6 (column_number6)
                VALUES (#{item})
            </foreach>
        </if>
        <if test='dataList.columnDate1 != null and dataList.columnDate1.size()>0'>
            <foreach collection="dataList.columnDate1" item="item" index="index">
                INTO t_column_date1 (column_date1)
                VALUES ( to_timestamp(#{item},'YYYY-MM-DD HH24:MI:SS.FF3'))
            </foreach>
        </if>
        <if test='dataList.columnDate2 != null and dataList.columnDate2.size()>0'>
            <foreach collection="dataList.columnDate2" item="item" index="index">
                INTO t_column_date2 (column_date2)
                VALUES ( to_timestamp(#{item},'YYYY-MM-DD HH24:MI:SS.FF3'))
            </foreach>
        </if>
        <if test='dataList.columnDate3 != null and dataList.columnDate3.size()>0'>
            <foreach collection="dataList.columnDate3" item="item" index="index">
                INTO t_column_date3 (column_date3)
                VALUES ( to_timestamp(#{item},'YYYY-MM-DD HH24:MI:SS.FF3'))
            </foreach>
        </if>
        <if test='dataList.columnDate4 != null and dataList.columnDate4.size()>0'>
            <foreach collection="dataList.columnDate4" item="item" index="index">
                INTO t_column_date4 (column_date4)
                VALUES ( to_timestamp(#{item},'YYYY-MM-DD HH24:MI:SS.FF3'))
            </foreach>
        </if>
        SELECT * FROM dual
    </insert>
    <insert id="insertBatchObjectData">
           INSERT INTO t_object_data(
          id,
          application_id,
          batch_group_id,
          column_char1,
          column_char2,
          column_char3,
          column_char4,
          column_char5,
          column_char6,
          column_char7,
          column_char8,
          column_char9,
          column_char10,
          column_char11,
          column_char12,
          column_char13,
          column_char14,
          column_char15,
          column_number1,
          column_number2,
          column_number3,
          column_number4,
          column_number5,
          column_number6,
          column_date1,
          column_date2,
          column_date3,
          column_date4)
       SELECT
          sys_guid(),
          #{applicationId,jdbcType=VARCHAR},
          #{batchGroupId,jdbcType=NUMERIC},
          column_char1,
          column_char2,
          column_char3,
          column_char4,
          column_char5,
          column_char6,
          column_char7,
          column_char8,
          column_char9,
          column_char10,
          column_char11,
          column_char12,
          column_char13,
          column_char14,
          column_char15,
          column_number1,
          column_number2,
          column_number3,
          column_number4,
          column_number5,
          column_number6,
          column_date1,
          column_date2,
          column_date3,
          column_date4
     FROM t_column_char1
         LEFT JOIN t_column_char2 on 1=1
         LEFT JOIN t_column_char3 on 1=1
         LEFT JOIN t_column_char4 on 1=1
         LEFT JOIN t_column_char5 on 1=1
         LEFT JOIN t_column_char6 on 1=1
         LEFT JOIN t_column_char7 on 1=1
         LEFT JOIN t_column_char8 on 1=1
         LEFT JOIN t_column_char9 on 1=1
         LEFT JOIN t_column_char10 on 1=1
         LEFT JOIN t_column_char11 on 1=1
         LEFT JOIN t_column_char12 on 1=1
         LEFT JOIN t_column_char13 on 1=1
         LEFT JOIN t_column_char14 on 1=1
         LEFT JOIN t_column_char15 on 1=1
         LEFT JOIN t_column_number1 on 1=1
         LEFT JOIN t_column_number2 on 1=1
         LEFT JOIN t_column_number3 on 1=1
         LEFT JOIN t_column_number4 on 1=1
         LEFT JOIN t_column_number5 on 1=1
         LEFT JOIN t_column_number6 on 1=1
         LEFT JOIN t_column_date1 on 1=1
         LEFT JOIN t_column_date2 on 1=1
         LEFT JOIN t_column_date3 on 1=1
         LEFT JOIN t_column_date4 on 1=1
    </insert>

    <select id="queryColumnAll" resultMap="BaseResultMap">
        SELECT sys_guid() AS id,
          #{applicationId} AS application_id,
          column_char1,
          column_char2,
          column_char3,
          column_char4,
          column_char5,
          column_char6,
          column_char7,
          column_char8,
          column_char9,
          column_char10,
          column_char11,
          column_char12,
          column_char13,
          column_char14,
          column_char15,
          column_char15,
          column_number1,
          column_number2,
          column_number3,
          column_number4,
          column_number5,
          column_number6,
          to_char(column_date1,'YYYY-MM-DD HH24:MI:SS') column_date1,
          to_char(column_date2,'YYYY-MM-DD HH24:MI:SS') column_date2,
          to_char(column_date3,'YYYY-MM-DD HH24:MI:SS') column_date3,
          to_char(column_date4,'YYYY-MM-DD HH24:MI:SS') column_date4
     FROM t_column_char1
         LEFT JOIN t_column_char2 on 1=1
         LEFT JOIN t_column_char3 on 1=1
         LEFT JOIN t_column_char4 on 1=1
         LEFT JOIN t_column_char5 on 1=1
         LEFT JOIN t_column_char6 on 1=1
         LEFT JOIN t_column_char7 on 1=1
         LEFT JOIN t_column_char8 on 1=1
         LEFT JOIN t_column_char9 on 1=1
         LEFT JOIN t_column_char10 on 1=1
         LEFT JOIN t_column_char11 on 1=1
         LEFT JOIN t_column_char12 on 1=1
         LEFT JOIN t_column_char13 on 1=1
         LEFT JOIN t_column_char14 on 1=1
         LEFT JOIN t_column_char15 on 1=1
         LEFT JOIN t_column_number1 on 1=1
         LEFT JOIN t_column_number2 on 1=1
         LEFT JOIN t_column_number3 on 1=1
         LEFT JOIN t_column_number4 on 1=1
         LEFT JOIN t_column_number5 on 1=1
         LEFT JOIN t_column_number6 on 1=1
         LEFT JOIN t_column_date1 on 1=1
         LEFT JOIN t_column_date2 on 1=1
         LEFT JOIN t_column_date3 on 1=1
         LEFT JOIN t_column_date4 on 1=1
    </select>
    <select id="nextvalBatchGroupId" resultType="java.lang.Long">
        SELECT BATCH_GROUP_ID_SEQ.NEXTVAL FROM dual
    </select>

    <select id="currvalBatchGroupId" resultType="java.lang.Long">
        SELECT BATCH_GROUP_ID_SEQ.CURRVAL FROM dual
    </select>
    <select id="queryRepeatHashCode" resultType="java.lang.Long">
        SELECT hash_code FROM t_object_data where application_id = #{applicationId} and batch_group_id = #{batchGroupId} group by hash_code having count(*)>1
    </select>

    <select id="queryRepeatObjectData" resultMap="BaseResultMap">
        SELECT * FROM t_object_data where application_id = #{applicationId} and batch_group_id = #{batchGroupId}
        <if test='hashCodes != null and hashCodes.size()>0'>
            and hash_code in
            <foreach collection="hashCodes" item="item" index="index" open="(" separator="," close=")">
                #{item}
            </foreach>
        </if>

    </select>

    <select id="queryRepeat" resultMap="BaseResultMap">
        SELECT t1.id,
             t1.column_char1 || nvl2(t1.column_char1, '-' || t3.column_char1, '') AS column_char1,
             t1.column_char2 || nvl2(t1.column_char2, '-' || t3.column_char2, '') AS column_char2,
             t1.column_char3 || nvl2(t1.column_char3, '-' || t3.column_char3, '') AS column_char3,
             t1.column_char4 || nvl2(t1.column_char4, '-' || t3.column_char4, '') AS column_char4,
             t1.column_char5 || nvl2(t1.column_char5, '-' || t3.column_char5, '') AS column_char5,
             t1.column_char6 || nvl2(t1.column_char6, '-' || t3.column_char6, '') AS column_char6,
             t1.column_char7 || nvl2(t1.column_char7, '-' || t3.column_char7, '') AS column_char7,
             t1.column_char8 || nvl2(t1.column_char8, '-' || t3.column_char8, '') AS column_char8,
             t1.column_char9 || nvl2(t1.column_char9, '-' || t3.column_char9, '') AS column_char9,
             t1.column_char10 || nvl2(t1.column_char10, '-' || t3.column_char10, '') AS column_char10,
             t1.column_char11 || nvl2(t1.column_char11, '-' || t3.column_char11, '') AS column_char11,
             t1.column_char12 || nvl2(t1.column_char12, '-' || t3.column_char12, '') AS column_char12,
             t1.column_char13 || nvl2(t1.column_char13, '-' || t3.column_char13, '') AS column_char13,
             t1.column_char14 || nvl2(t1.column_char14, '-' || t3.column_char14, '') AS column_char14,
             t1.column_char15 || nvl2(t1.column_char15, '-' || t3.column_char15, '') AS column_char15,
             t1.column_number1,
             t1.column_number2,
             t1.column_number3,
             t1.column_number4,
             t1.column_number5,
             t1.column_number6,
             t1.column_date1,
             t1.column_date2,
             t1.column_date3,
             t1.column_date4,
             decode(t1.status,'0','0-禁用','1','1-启用','2','2-草稿') as status
        FROM t_object_data t1, t_object_data t2,t_object_data_mapping t3
            WHERE t1.hash_code in(SELECT hash_code FROM t_object_data group by hash_code having count(*)>1 )
            AND t2.hash_code = t1.hash_code  AND t1.id != t2.id AND t3.id = t1.id
            AND t1.application_id = #{applicationId} AND t2.application_id = #{applicationId}
            AND (t1.column_date1 BETWEEN t2.column_date1 AND t2.column_date2)
        UNION
        SELECT
             t2.id,
             t2.column_char1 || nvl2(t2.column_char1, '-' || t3.column_char1, '') AS column_char1,
             t2.column_char2 || nvl2(t2.column_char2, '-' || t3.column_char2, '') AS column_char2,
             t2.column_char3 || nvl2(t2.column_char3, '-' || t3.column_char3, '') AS column_char3,
             t2.column_char4 || nvl2(t2.column_char4, '-' || t3.column_char4, '') AS column_char4,
             t2.column_char5 || nvl2(t2.column_char5, '-' || t3.column_char5, '') AS column_char5,
             t2.column_char6 || nvl2(t2.column_char6, '-' || t3.column_char6, '') AS column_char6,
             t2.column_char7 || nvl2(t2.column_char7, '-' || t3.column_char7, '') AS column_char7,
             t2.column_char8 || nvl2(t2.column_char8, '-' || t3.column_char8, '') AS column_char8,
             t2.column_char9 || nvl2(t2.column_char9, '-' || t3.column_char9, '') AS column_char9,
             t2.column_char10 || nvl2(t2.column_char10, '-' || t3.column_char10, '') AS column_char10,
             t2.column_char11 || nvl2(t2.column_char11, '-' || t3.column_char11, '') AS column_char11,
             t2.column_char12 || nvl2(t2.column_char12, '-' || t3.column_char12, '') AS column_char12,
             t2.column_char13 || nvl2(t2.column_char13, '-' || t3.column_char13, '') AS column_char13,
             t2.column_char14 || nvl2(t2.column_char14, '-' || t3.column_char14, '') AS column_char14,
             t2.column_char15 || nvl2(t2.column_char15, '-' || t3.column_char15, '') AS column_char15,
             t2.column_number1,
             t2.column_number2,
             t2.column_number3,
             t2.column_number4,
             t2.column_number5,
             t2.column_number6,
             t2.column_date1,
             t2.column_date2,
             t2.column_date3,
             t2.column_date4,
             decode(t2.status,'0','0-禁用','1','1-启用','2','2-草稿') as status
        FROM t_object_data t1, t_object_data t2 ,t_object_data_mapping t3
            WHERE  t1.hash_code in(SELECT hash_code FROM t_object_data group by hash_code having count(*)>1 )
             AND t2.hash_code = t1.hash_code  AND t1.id != t2.id AND t3.id = t2.id
             AND t1.application_id = #{applicationId} AND t2.application_id = #{applicationId}
             AND (t1.column_date2 BETWEEN t2.column_date1 AND t2.column_date2)
    </select>


    <select id="queryRepeatCount" resultType="java.lang.Integer">
        SELECT COUNT(*) FROM (
        SELECT t1.id
        FROM t_object_data t1, t_object_data t2
            WHERE t1.hash_code in(SELECT hash_code FROM t_object_data group by hash_code having count(*)>1 )
            AND t2.hash_code = t1.hash_code  AND t1.id != t2.id
            AND t1.application_id = #{applicationId} AND t2.application_id = #{applicationId}
            AND (t1.column_date1 BETWEEN t2.column_date1 AND t2.column_date2)
        UNION
        SELECT
             t2.id
        FROM t_object_data t1, t_object_data t2
            WHERE  t1.hash_code in(SELECT hash_code FROM t_object_data group by hash_code having count(*)>1 )
             AND t2.hash_code = t1.hash_code  AND t1.id != t2.id
             AND t1.application_id = #{applicationId} AND t2.application_id = #{applicationId}
             AND (t1.column_date2 BETWEEN t2.column_date1 AND t2.column_date2)
             )
    </select>

    <select id="queryList" resultMap="BaseResultMap">
         SELECT t1.id,
         t1.column_char1 ||
         nvl2(t2.column_char1, '-' || t2.column_char1, '') AS column_char1,
         t1.column_char2 ||
         nvl2(t2.column_char2, '-' || t2.column_char2, '') AS column_char2,
         t1.column_char3 ||
         nvl2(t2.column_char3, '-' || t2.column_char3, '') AS column_char3,
         t1.column_char4 ||
         nvl2(t2.column_char4, '-' || t2.column_char4, '') AS column_char4,
         t1.column_char5 ||
         nvl2(t2.column_char5, '-' || t2.column_char5, '') AS column_char5,
         t1.column_char6 ||
         nvl2(t2.column_char6, '-' || t2.column_char6, '') AS column_char6,
         t1.column_char7 ||
         nvl2(t2.column_char7, '-' || t2.column_char7, '') AS column_char7,
         t1.column_char8 ||
         nvl2(t2.column_char8, '-' || t2.column_char8, '') AS column_char8,
         t1.column_char9 ||
         nvl2(t2.column_char9, '-' || t2.column_char9, '') AS column_char9,
         t1.column_char10 ||
         nvl2(t2.column_char10, '-' || t2.column_char10, '') AS column_char10,
         t1.column_char11 ||
         nvl2(t2.column_char11, '-' || t2.column_char11, '') AS column_char11,
         t1.column_char12 ||
         nvl2(t2.column_char12, '-' || t2.column_char12, '') AS column_char12,
         t1.column_char13 ||
         nvl2(t2.column_char13, '-' || t2.column_char13, '') AS column_char13,
         t1.column_char14 ||
         nvl2(t2.column_char14, '-' || t2.column_char14, '') AS column_char14,
         t1.column_char15 ||
         nvl2(t2.column_char15, '-' || t2.column_char15, '') AS column_char15,
         t1.column_number1,
         t1.column_number2,
         t1.column_number3,
         t1.column_number4,
         t1.column_number5,
         t1.column_number6,
         t1.column_date1,
         t1.column_date2,
         t1.column_date3,
         t1.column_date4,
         t1. hash_code,
         t1.application_id,
         t1.date_time,
         decode(t1.status,'0','0-禁用','1','1-启用','2','2-草稿') as status
        FROM t_object_data t1
        LEFT JOIN t_object_data_mapping t2
          ON t1.id = t2.id
            where t1.application_id = #{applicationId} order by t1.date_time
    </select>


    <insert id="insertMappingBatch">
        INSERT INTO t_object_data_mapping
          (id,
           column_char1,
           column_char2,
           column_char3,
           column_char4,
           column_char5,
           column_char6,
           column_char7,
           column_char8,
           column_char9,
           column_char10,
           column_char11,
           column_char12,
           column_char13,
           column_char14,
           column_char15)
            SELECT t1.id,
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char1'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char1
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char2'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char2
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char3'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char3
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char4'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char4
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char5'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char5
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char6'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char6
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char7'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char7
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char8'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char8
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char9'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char9
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char10'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char10
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char11'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char11
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char12'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char12
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char13'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char13
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char14'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char14
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char15'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char15
                       AND v1.status = '1'
                       AND rownum = 1)
              FROM t_object_data t1
                WHERE t1.application_id = #{applicationId} AND NOT EXISTS (select 1 from t_object_data_mapping t2 where t1.id = t2.id)
    </insert>


    <update id="updateMappingBatch">
        UPDATE t_object_data_mapping u
             SET ( u.column_char1,
                   u.column_char2,
                   u.column_char3,
                   u.column_char4,
                   u.column_char5,
                   u.column_char6,
                   u.column_char7,
                   u.column_char8,
                   u.column_char9,
                   u.column_char10,
                   u.column_char11,
                   u.column_char12,
                   u.column_char13,
                   u.column_char14,
                   u.column_char15 ) =
            (SELECT
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char1'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char1
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char2'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char2
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char3'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char3
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char4'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char4
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char5'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char5
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char6'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char6
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char7'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char7
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char8'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char8
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char9'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char9
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char10'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char10
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char11'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char11
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char12'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char12
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char13'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char13
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char14'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char14
                       AND v1.status = '1'
                       AND rownum = 1),
                   (SELECT v1.value_name
                      FROM t_value_set v1, t_application_template temp1
                     WHERE v1.application_id = t1.application_id
                       AND temp1.application_id = t1.application_id
                       AND temp1.column_name = 'column_char15'
                       AND v1.segment_code = temp1.segment_code
                       AND v1.value_code = t1.column_char15
                       AND v1.status = '1'
                       AND rownum = 1)
              FROM t_object_data t1
             WHERE t1.application_id = #{applicationId} AND u.id = t1.id)
    </update>

    <update id="updateHashcode">
            update t_object_data t set t.hash_code =
            ora_hash(t.application_id || t.column_char1 || t.column_char2 || t.column_char3 ||
            t.column_char4 || t.column_char5 || t.column_char6 ||
            t.column_char7 || t.column_char8 || t.column_char9 ||
            t.column_char10 || t.column_char11 || t.column_char12 ||
            t.column_char13 || t.column_char14 || t.column_char15
            || t.column_number1 || t.column_number2 || t.column_number3
            || t.column_number4 || t.column_number5 || t.column_number6)
             where t.application_id = #{applicationId} and t.hash_code is null
    </update>


</mapper>